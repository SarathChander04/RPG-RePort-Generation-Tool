:root {
  --bg: #f7f8fa;
  --paper: #ffffff;
  --text: #1c1f23;
  --muted: #6b7280;
  --border: #e6e8eb;

  --primary: #2563eb;
  --primary-600: #1e4fd1;
  --secondary: #64748b;
  --secondary-600: #4b5563;
  --success: #16a34a;
  --error: #dc2626;
  --warning: #ca8a04;

  --shadow-1: 0 1px 2px rgba(0,0,0,.06), 0 1px 3px rgba(0,0,0,.05);
  --radius: 10px;
  --radius-sm: 8px;
  --radius-lg: 14px;
  --transition: 180ms ease;

  --table-stripe: #fafafa;
  --badge-bg: #eef2ff;
  --badge-text: #3730a3;
}

body.dark {
  --bg: #101114;
  --paper: #17181c;
  --text: #eaeef2;
  --muted: #9aa3af;
  --border: #272a31;

  --primary: #60a5fa;
  --primary-600: #5290e0;
  --secondary: #9aa3af;
  --secondary-600: #808a95;

  --shadow-1: 0 1px 2px rgba(0,0,0,.5), 0 6px 14px rgba(0,0,0,.35);
  --table-stripe: #111317;
  --badge-bg: #243b55;
  --badge-text: #cfe0ff;
}

/* Base layout */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font: 15px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  transition: background-color var(--transition), color var(--transition);
}

.container {
  width: 100%;
  max-width: 1120px;
  margin: 0 auto;
  padding: 0 16px;
}

/* Topbar */
.topbar {
  background: var(--paper);
  border-bottom: 1px solid var(--border);
  box-shadow: var(--shadow-1);
  position: sticky;
  top: 0;
  z-index: 20;
}
.topbar-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 64px;
}
.brand {
  display: flex;
  align-items: center;
  gap: 12px;
}
.brand-link { display: inline-flex; align-items: center; }
.logo { height: 30px; display: none; }
body.light .logo-light { display: block; }
body.dark .logo-dark { display: block; }
.brand-name {
  font-weight: 700; letter-spacing: .2px;
}

/* Nav */
.nav { display: flex; align-items: center; gap: 12px; }
.nav-link {
  color: var(--text);
  text-decoration: none;
  padding: 8px 10px;
  border-radius: 8px;
}
.nav-link:hover {
  background: var(--table-stripe);
}

/* Footer */
.footer {
  margin-top: 28px;
  padding: 22px 0 38px;
  border-top: 1px solid var(--border);
}
.footer-inner {
  display: flex;
  align-items: center;
  gap: 10px; flex-wrap: wrap;
}
.muted { color: var(--muted); }
.sep { color: var(--border); }

/* Flash alerts */
.flash-stack { margin: 18px 0; display: grid; gap: 8px; }
.alert {
  display: flex; gap: 8px; align-items: center;
  background: var(--paper);
  border: 1px solid var(--border);
  border-left: 4px solid var(--secondary);
  padding: 10px 12px;
  border-radius: var(--radius);
  box-shadow: var(--shadow-1);
}
.alert .alert-dot {
  width: 8px; height: 8px; border-radius: 999px;
  background: var(--secondary);
}
.alert.success { border-left-color: var(--success); }
.alert.success .alert-dot { background: var(--success); }
.alert.error { border-left-color: var(--error); }
.alert.error .alert-dot { background: var(--error); }

/* Cards */
.card {
  background: var(--paper);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-1);
  padding: 18px;
}
.card + .card { margin-top: 14px; }

/* Headings */
h1,h2,h3 { margin: 6px 0 14px; line-height: 1.25; }
.section-title {
  display: flex; align-items: center; justify-content: space-between;
  gap: 10px; margin: 8px 0 14px;
}

/* Buttons */
.btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 8px;
  padding: 9px 14px;
  border-radius: 8px;
  border: 1px solid transparent;
  background: var(--primary);
  color: white; text-decoration: none;
  cursor: pointer; transition: transform var(--transition), background var(--transition), border var(--transition), color var(--transition);
}
.btn:hover { transform: translateY(-1px); background: var(--primary-600); }
.btn:active { transform: translateY(0); }
.btn-secondary {
  background: var(--secondary);
}
.btn-secondary:hover {
  background: var(--secondary-600);
}
.btn-outline {
  background: transparent;
  color: var(--primary);
  border-color: var(--primary);
}
.btn-outline:hover {
  background: rgba(37,99,235,0.08);
}
.btn-danger {
  background: var(--error);
}
.btn-danger:hover { background: #b91c1c; }
.btn-muted {
  background: transparent; color: var(--muted); border: 1px dashed var(--border);
}
.icon { display: inline-flex; font-size: 16px; }
.icon.sun { display: none; }
body.light .icon.sun { display: inline-flex; }
body.dark .icon.moon { display: inline-flex; }

/* Inputs */
input[type="text"], input[type="number"], input[type="file"], select, textarea {
  width: 100%;
  background: var(--paper);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 10px 12px;
  outline: none;
  transition: border var(--transition), background var(--transition);
}
input::file-selector-button {
  margin-right: 10px;
  padding: 8px 12px;
  border: none;
  border-right: 1px solid var(--border);
  background: var(--table-stripe);
  color: var(--text);
  border-radius: 8px 0 0 8px;
}
label { display: block; margin: 10px 0 6px; color: var(--muted); }

/* Table */
.table {
  width: 100%; border-collapse: collapse;
  background: var(--paper);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow-1);
}
.table th, .table td {
  padding: 10px 12px;
  border-bottom: 1px solid var(--border);
  vertical-align: top;
}
.table thead th {
  background: var(--table-stripe);
  text-align: left;
  color: var(--muted);
  font-weight: 600;
}
.table tbody tr:nth-child(2n) td {
  background: color-mix(in oklab, var(--table-stripe) 70%, transparent);
}
.badge {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 3px 8px; border-radius: 999px;
  background: var(--badge-bg);
  color: var(--badge-text);
  font-size: 12px; font-weight: 600;
}
.badge.dot::before {
  content: ''; width: 6px; height: 6px; border-radius: 50%;
  background: currentColor; opacity: .8;
}

/* Utility */
.grid { display: grid; gap: 14px; }
.grid.cols-2 { grid-template-columns: 1fr 1fr; }
@media (max-width: 760px) {
  .grid.cols-2 { grid-template-columns: 1fr; }
  .topbar-inner { height: auto; padding: 10px 0; align-items: flex-start; gap: 10px; }
  .nav { flex-wrap: wrap; }
}
